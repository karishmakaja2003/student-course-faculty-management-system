<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Student Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 20px;
    }

    h2 {
      color: #333;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: left;
    }

    th {
      background-color: #007bff;
      color: white;
    }

    td {
      background-color: #fff;
    }
  </style>
</head>
<body>
  <h2>Student Details</h2>
  <table id="studentTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>DOB</th>
        <th>Address 1</th>
        <th>Address 2</th>
        <th>City</th>
        <th>State</th>
        <th>Country</th>
        <th>Pincode</th>
        <th>Course ID</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Course List</h2>
  <table id="courseTable">
    <thead>
      <tr>
        <th>Course ID</th>
        <th>Name</th>
        <th>Fee</th>
        <th>Duration</th>
        <th>Faculty ID</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    // Fetch student data and render table rows
    fetch("http://localhost:8080/students")
      .then(res => res.json())
      .then(data => {
        const rows = data.map(student => `
          <tr>
            <td>${student.id}</td>
            <td>${student.name}</td>
            <td>${student.dob}</td>
            <td>${student.address1 || ""}</td>
            <td>${student.address2 || ""}</td>
            <td>${student.city || ""}</td>
            <td>${student.state || ""}</td>
            <td>${student.country || ""}</td>
            <td>${student.pincode || ""}</td>
            <td>${student.courseId || ""}</td>
          </tr>
        `).join("");
        document.querySelector("#studentTable tbody").innerHTML = rows;
      })
      .catch(err => console.error("Error loading students:", err));

    // Fetch course data and render table rows
    fetch("http://localhost:8080/courses")
      .then(res => res.json())
      .then(data => {
        const rows = data.map(course => `
          <tr>
            <td>${course.id}</td>
            <td>${course.name}</td>
            <td>${course.fee}</td>
            <td>${course.duration}</td>
            <td>${course.facultyId}</td>
          </tr>
        `).join("");
        document.querySelector("#courseTable tbody").innerHTML = rows;
      })
      .catch(err => console.error("Error loading courses:", err));
  </script>
</body>
</html>
